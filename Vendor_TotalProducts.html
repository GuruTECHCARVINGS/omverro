<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Total Products - Vendor Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Inter&display=swap" rel="stylesheet" />
  <style>
    body { font-family: 'Inter', sans-serif; background: #F9F9FA; color: #212121; }
    .box-white { background: #fff; border: 1px solid #E0E0E0; border-radius: 1rem; }
    .metric-card { background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%); border: 1px solid #e0e0e0; transition: all 0.3s ease; }
    .metric-card:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(106, 27, 154, 0.1); }
    .purple-dark { color: #6A1B9A; }
    .sidebar { background: #FAFAFA; color: #333; }
    .sidebar a:hover { background: #E1BEE7; color: #6A1B9A; }
    .sidebar-active { background: #8E24AA; color: #fff !important; }
    .sidebar-icon-bg { background: #E1BEE7; color: #6A1B9A; border-radius: 0.75rem; padding: 0.5rem; display: inline-flex; align-items: center; justify-content: center; }
    table th, table td { white-space: nowrap; }
  </style>
</head>
<body class="min-h-screen flex">
  <!-- Sidebar -->
  <aside class="sidebar w-62 flex flex-col border-r border-gray-300 select-none">
    <div class="flex items-center gap-2 px-4 py-4 border-b border-gray-300">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD..." class="h-8 w-8 rounded-full" />
      <span class="font-semibold text-lg">Vendor Portal</span>
    </div>
    <nav class="flex flex-col gap-2 mt-6 px-4 flex-grow text-base font-medium">
      <a href="vendordashboard.html" class="sidebar-active flex items-center gap-3 px-4 py-3 rounded-full transition">
        <i class="fas fa-tachometer-alt"></i> Dashboard
      </a>
      <a href="Vendor_Pending_RFQs.html" class="flex items-center gap-3 px-4 py-3 rounded-full transition">
        <i class="fas fa-clipboard-list"></i> Pending RFQs
      </a>
      <a href="Vendor_Order.html" class="flex items-center gap-3 px-4 py-3 rounded-full transition">
        <i class="fas fa-shopping-cart"></i> Orders
      </a>
      <a href="Vendor_Product_inventory.html" class="flex items-center gap-3 px-4 py-3 rounded-full transition">
        <i class="fas fa-box-open"></i> Products & Inventory
      </a>
      <a href="Vendor_payment.html" class="flex items-center gap-3 px-4 py-3 rounded-full transition">
        <i class="fas fa-credit-card"></i> Payments
      </a>
      <a href="Vendor_portal_invoices.html" class="flex items-center gap-3 px-4 py-3 rounded-full transition">
        <i class="fas fa-file-invoice-dollar"></i> Invoices
      </a>
      <a href="Vendor_analytics.html" class="flex items-center gap-3 px-4 py-3 rounded-full transition">
        <i class="fas fa-chart-line"></i> Analytics & Reports
      </a>
      <a href="Vendor_Settings.html" class="flex items-center gap-3 px-4 py-3 rounded-full transition">
        <i class="fas fa-cog"></i> Settings
      </a>
      <a href="Vendor_supporttickets.html" class="flex items-center gap-3 px-4 py-3 rounded-full transition">
        <i class="fas fa-headset"></i> Support Center
      </a>
    </nav>
  </aside>
  <!-- Main content -->
  <main class="flex-1 p-8 overflow-x-auto relative">
    <header class="flex justify-between items-center mb-10">
      <div>
        <h1 class="text-3xl font-bold text-[#212121] select-none">Total Products</h1>
      </div>
      <div>
        <a href="vendordashboard.html" class="text-purple-600 hover:text-purple-800 font-medium text-sm"><i class="fas fa-arrow-left mr-2"></i>Back to Dashboard</a>
      </div>
    </header>
    <section class="metric-card box-white p-6 shadow select-none rounded-2xl mb-8">
      <div class="flex items-center gap-4 mb-3">
        <div class="sidebar-icon-bg"><i class="fas fa-box-open text-lg"></i></div>
        <span class="text-sm font-semibold purple-dark">Total Products</span>
      </div>
      <p class="text-2xl font-extrabold text-[#212121] mb-1">1,247</p>
      <p class="text-xs text-blue-600 font-medium">45 low stock (SAP)</p>
      <div class="mt-2 text-xs text-gray-500">Last updated: 30/07/2025</div>
    </section>
    <!-- Products Table -->
    <section class="box-white p-8 shadow rounded-2xl">
      <h2 class="text-xl font-semibold text-[#212121] mb-4">Product Details (SAP Fields)</h2>
      <div class="mb-4 flex flex-col sm:flex-row gap-4 items-center justify-between">
        <input type="text" id="product-search" class="w-full sm:w-1/3 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400" placeholder="Search products by name, code, or category...">
      </div>
      <table class="w-full min-w-[700px] text-left border-collapse rounded-2xl overflow-hidden" id="products-table">
        <thead class="text-[#333333] bg-[#FAFAFA]">
          <tr>
            <th class="py-4 px-6 font-semibold border border-gray-200"><i class="fas fa-barcode mr-2 text-purple-600"></i>Product Code</th>
            <th class="py-4 px-6 font-semibold border border-gray-200"><i class="fas fa-tag mr-2 text-purple-600"></i>Product Name</th>
            <th class="py-4 px-6 font-semibold border border-gray-200"><i class="fas fa-layer-group mr-2 text-purple-600"></i>Category</th>
            <th class="py-4 px-6 font-semibold border border-gray-200"><i class="fas fa-boxes mr-2 text-purple-600"></i>Stock Qty</th>
            <th class="py-4 px-6 font-semibold border border-gray-200"><i class="fas fa-rupee-sign mr-2 text-purple-600"></i>Unit Price</th>
            <th class="py-4 px-6 font-semibold border border-gray-200"><i class="fas fa-info-circle mr-2 text-purple-600"></i>Status</th>
          </tr>
        </thead>
        <tbody class="text-[#212121]">
          <tr class="border-b border-gray-200 cursor-pointer hover:bg-blue-50 transition" data-product="PRD-1001">
            <td class="py-4 px-6 text-blue-700">PRD-1001</td>
            <td class="py-4 px-6"><span class="text-blue-700 underline cursor-pointer">Industrial Bearings</span></td>
            <td class="py-4 px-6 text-black">Mechanical</td>
            <td class="py-4 px-6 text-blue-700">120</td>
            <td class="py-4 px-6 text-blue-700">₹1,050</td>
            <td class="py-4 px-6 text-blue-700"><i class="fas fa-check-circle mr-1 text-blue-600"></i>In Stock</td>
          </tr>
          <tr class="border-b border-gray-200 cursor-pointer hover:bg-yellow-50 transition" data-product="PRD-1002">
            <td class="py-4 px-6">PRD-1002</td>
            <td class="py-4 px-6"><span class="text-blue-700 underline cursor-pointer">Steel Pipes</span></td>
            <td class="py-4 px-6">Construction</td>
            <td class="py-4 px-6">45</td>
            <td class="py-4 px-6">₹850</td>
            <td class="py-4 px-6 text-orange-600"><i class="fas fa-exclamation-triangle mr-1"></i>Low Stock</td>
          </tr>
          <tr class="border-b border-gray-200 cursor-pointer hover:bg-purple-50 transition" data-product="PRD-1003">
            <td class="py-4 px-6">PRD-1003</td>
            <td class="py-4 px-6"><span class="text-blue-700 underline cursor-pointer">Electronic Components</span></td>
            <td class="py-4 px-6">Electronics</td>
            <td class="py-4 px-6">300</td>
            <td class="py-4 px-6">₹120</td>
            <td class="py-4 px-6 text-blue-600"><i class="fas fa-check-circle mr-1"></i>In Stock</td>
          </tr>
          <tr class="border-b border-gray-200 cursor-pointer hover:bg-yellow-50 transition" data-product="PRD-1004">
            <td class="py-4 px-6">PRD-1004</td>
            <td class="py-4 px-6"><span class="text-blue-700 underline cursor-pointer">Safety Equipment</span></td>
            <td class="py-4 px-6">Safety</td>
            <td class="py-4 px-6">20</td>
            <td class="py-4 px-6">₹2,200</td>
            <td class="py-4 px-6 text-orange-600"><i class="fas fa-exclamation-triangle mr-1"></i>Low Stock</td>
          </tr>
          <tr class="cursor-pointer hover:bg-purple-50 transition" data-product="PRD-1005">
            <td class="py-4 px-6">PRD-1005</td>
            <td class="py-4 px-6"><span class="text-blue-700 underline cursor-pointer">Raw Materials</span></td>
            <td class="py-4 px-6">Raw</td>
            <td class="py-4 px-6">80</td>
            <td class="py-4 px-6">₹650</td>
            <td class="py-4 px-6 text-blue-600"><i class="fas fa-check-circle mr-1"></i>In Stock</td>
          </tr>
        </tbody>
      </table>
      <!-- Modal for line items and sub-items -->
      <div id="product-modal" class="fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-2xl shadow-lg w-full max-w-2xl p-8 relative transform translate-y-12 opacity-0 transition-all duration-300" id="modal-box">
          <button id="close-modal" class="absolute top-4 right-4 text-gray-500 hover:text-blue-700 text-2xl"><i class="fas fa-times"></i></button>
          <div id="modal-summary" class="mb-4"></div>
          <h3 class="text-2xl font-bold text-blue-700 mb-4" id="modal-title">Product Details</h3>
          <div id="modal-content" style="max-height: 350px; overflow-y: auto;">
            <!-- JS will inject line items and sub-items here -->
          </div>
        </div>
      </div>
      <style>
        #modal-content::-webkit-scrollbar {
          width: 8px;
        }
        #modal-content::-webkit-scrollbar-thumb {
          background: #3b82f6;
          border-radius: 4px;
        }
        #modal-content::-webkit-scrollbar-track {
          background: #e0e7ef;
        }
      </style>
      <script>
        // Product table search/filter
        document.getElementById('product-search').addEventListener('input', function() {
          const val = this.value.toLowerCase();
          document.querySelectorAll('#products-table tbody tr').forEach(row => {
            const text = row.textContent.toLowerCase();
            row.style.display = text.includes(val) ? '' : 'none';
          });
        });
        // Sample line items and sub-items data
        const productDetails = {
          'PRD-1001': {
            name: 'Industrial Bearings',
            lineItems: [
              { code: 'ITM-001', desc: 'Ball Bearing', qty: 50, price: 400, subItems: [ { code: 'SUB-01', desc: 'Grease', qty: 10 }, { code: 'SUB-02', desc: 'Seal', qty: 40 } ] },
              { code: 'ITM-002', desc: 'Roller Bearing', qty: 70, price: 650, subItems: [ { code: 'SUB-03', desc: 'Cage', qty: 20 } ] }
            ]
          },
          'PRD-1002': {
            name: 'Steel Pipes',
            lineItems: [
              { code: 'ITM-003', desc: 'Pipe 2"', qty: 20, price: 200, subItems: [ { code: 'SUB-04', desc: 'End Cap', qty: 20 } ] },
              { code: 'ITM-004', desc: 'Pipe 4"', qty: 25, price: 350, subItems: [] }
            ]
          },
          'PRD-1003': {
            name: 'Electronic Components',
            lineItems: [
              { code: 'ITM-005', desc: 'Resistor', qty: 200, price: 2, subItems: [] },
              { code: 'ITM-006', desc: 'Capacitor', qty: 100, price: 5, subItems: [ { code: 'SUB-05', desc: 'Lead', qty: 100 } ] }
            ]
          },
          'PRD-1004': {
            name: 'Safety Equipment',
            lineItems: [
              { code: 'ITM-007', desc: 'Helmet', qty: 10, price: 1200, subItems: [ { code: 'SUB-06', desc: 'Visor', qty: 10 } ] },
              { code: 'ITM-008', desc: 'Gloves', qty: 10, price: 250, subItems: [] }
            ]
          },
          'PRD-1005': {
            name: 'Raw Materials',
            lineItems: [
              { code: 'ITM-009', desc: 'Iron Ore', qty: 80, price: 650, subItems: [] }
            ]
          }
        };
        // Show modal with product details
        document.querySelectorAll('#products-table tbody tr').forEach(row => {
          row.addEventListener('click', function() {
            const productId = this.getAttribute('data-product');
            const details = productDetails[productId];
            if (!details) return;
            // Product summary
            let summaryHtml = `<div class='flex gap-6 items-center'>
              <div class='flex flex-col gap-1'>
                <span class='font-semibold text-lg'><i class='fas fa-barcode mr-1'></i>${productId}</span>
                <span class='font-semibold text-blue-700'><i class='fas fa-tag mr-1'></i>${details.name}</span>
              </div>
              <div class='flex flex-col gap-1'>
                <span class='text-sm'><i class='fas fa-layer-group mr-1'></i>${row.children[2].textContent}</span>
                <span class='text-sm'><i class='fas fa-boxes mr-1'></i>Stock: ${row.children[3].textContent}</span>
                <span class='text-sm'><i class='fas fa-rupee-sign mr-1'></i>Price: ${row.children[4].textContent}</span>
              </div>
              <span class='text-sm font-semibold ${row.children[5].className}'><i class='${row.children[5].querySelector('i').className} mr-1'></i>${row.children[5].textContent.trim()}</span>
            </div>`;
            document.getElementById('modal-summary').innerHTML = summaryHtml;
            document.getElementById('modal-title').textContent = details.name + ' - Line Items & Sub Items';
            let html = '<table class="w-full mb-4 text-left border-collapse"><thead><tr><th class="py-2 px-4 border"><i class="fas fa-list-ul text-blue-600 mr-1"></i>Line Item Code</th><th class="py-2 px-4 border"><i class="fas fa-info-circle text-blue-600 mr-1"></i>Description</th><th class="py-2 px-4 border"><i class="fas fa-boxes text-blue-600 mr-1"></i>Qty</th><th class="py-2 px-4 border"><i class="fas fa-rupee-sign text-blue-600 mr-1"></i>Unit Price</th><th class="py-2 px-4 border"><i class="fas fa-sitemap text-blue-600 mr-1"></i>Sub Items</th></tr></thead><tbody>';
            details.lineItems.forEach(item => {
              html += `<tr><td class='py-2 px-4 border'><i class='fas fa-list-ul text-blue-600 mr-1'></i>${item.code}</td><td class='py-2 px-4 border'>${item.desc}</td><td class='py-2 px-4 border'>${item.qty}</td><td class='py-2 px-4 border'>₹${item.price}</td><td class='py-2 px-4 border'>`;
              if (item.subItems && item.subItems.length) {
                html += '<ul class="list-disc ml-4">';
                item.subItems.forEach(sub => {
                  html += `<li><i class='fas fa-sitemap text-blue-600 mr-1'></i>${sub.code}: ${sub.desc} (Qty: ${sub.qty})</li>`;
                });
                html += '</ul>';
              } else {
                html += '<span class="text-gray-400">None</span>';
              }
              html += '</td></tr>';
            });
            html += '</tbody></table>';
            document.getElementById('modal-content').innerHTML = html;
            document.getElementById('product-modal').classList.remove('hidden');
            // Animate modal
            const modalBox = document.getElementById('modal-box');
            setTimeout(() => {
              modalBox.classList.remove('translate-y-12','opacity-0');
              modalBox.classList.add('translate-y-0','opacity-100');
            }, 10);
          });
        });
        // Close modal
        document.getElementById('close-modal').addEventListener('click', function() {
          document.getElementById('product-modal').classList.add('hidden');
          const modalBox = document.getElementById('modal-box');
          modalBox.classList.add('translate-y-12','opacity-0');
          modalBox.classList.remove('translate-y-0','opacity-100');
        });
        // Close modal on outside click
        document.getElementById('product-modal').addEventListener('click', function(e) {
          if (e.target === this) {
            this.classList.add('hidden');
            const modalBox = document.getElementById('modal-box');
            modalBox.classList.add('translate-y-12','opacity-0');
            modalBox.classList.remove('translate-y-0','opacity-100');
          }
        });
      </script>
    </section>
  </main>
</body>
</html>
