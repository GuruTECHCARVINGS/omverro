<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Buyer Reports - TechCarvings</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet"/>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
      :root {
        --accent: #1d4ed8;
        --accent-2: #7c3aed;
        --muted: #64748b;
        --card: #ffffff;
      }
      body {
        font-family: "Inter", sans-serif;
        background: linear-gradient(120deg, #f3f6fd 0%, #e9eafc 100%);
        color: #212121;
      }
      .box-white {
        background: rgba(255,255,255,0.95);
        border: 1px solid #E5E7EB;
        border-radius: 1.25rem;
        box-shadow: 0 12px 32px 0 rgba(59,130,246,0.08), 0 1.5px 6px 0 #d1e0ef;
        backdrop-filter: blur(8px) saturate(180%);
        transition: box-shadow .2s, border-color .2s;
      }
      .report-card {
        background: rgba(255,255,255,0.92);
        border: 1px solid #E5E7EB;
        border-radius: 1rem;
        box-shadow: 0 8px 28px rgba(59,130,246,0.08);
        transition: transform .18s cubic-bezier(.4,2,.3,1), box-shadow .2s, border-color .2s;
        cursor: pointer;
      }
      .report-card:hover {
        transform: scale(1.02) translateY(-2px);
        border-color: #7c3aed88;
        box-shadow: 0 18px 48px rgba(124,58,237,0.13);
      }
      .header-blur {
        backdrop-filter: saturate(180%) blur(12px);
        background-color: rgba(255,255,255,0.92);
        box-shadow: 0 2px 12px rgba(124,58,237,0.07);
      }
      .reveal {
        opacity: 0; transform: translateY(16px) scale(.98); transition: all .6s cubic-bezier(.4,2,.3,1);
      }
      .reveal.show {
        opacity: 1; transform: translateY(0) scale(1);
      }
      .badge {
        font-size: .7rem; font-weight: 700; padding: .25rem .5rem; border-radius: 999px;
        background: #EEF2FF; color: #7c3aed; border: 1px solid #7c3aed33;
        box-shadow: 0 2px 8px rgba(124,58,237,0.08);
      }
      .metric-card {
        background: rgba(255,255,255,0.92);
        border-radius: 1rem;
        box-shadow: 0 8px 28px rgba(59,130,246,0.08);
        border: 1px solid #E5E7EB;
        transition: transform .18s cubic-bezier(.4,2,.3,1), box-shadow .2s;
      }
      .metric-card:hover {
        transform: scale(1.03) translateY(-2px);
        box-shadow: 0 18px 48px rgba(124,58,237,0.13);
        border-color: #7c3aed88;
      }
      .tab-active {
        background: linear-gradient(135deg, #7c3aed 0%, #1d4ed8 100%);
        color: white;
      }
      .tab-inactive {
        background: rgba(255,255,255,0.8);
        color: #64748b;
      }
      .tab-inactive:hover {
        background: rgba(124,58,237,0.1);
        color: #7c3aed;
      }
  </style>
</head>
<body class="min-h-screen flex flex-col">
  <!-- Header -->
  <header id="app-header" class="bg-white border-b border-gray-200 sticky top-0 z-50 transition-colors">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <h1 class="text-xl font-bold text-[#212121] leading-tight">Reports</h1>
      </div>
    </div>
  </header>

  <!-- Main -->
  <main class="flex-grow max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <!-- Page Header -->
    <div class="box-white ring-gradient p-6 mb-8 reveal">
      <div class="flex flex-col md:flex-row items-center justify-between gap-4">
        <div>
          <h1 class="text-3xl font-bold text-blue-700 mb-2 flex items-center gap-3">
            <i class="fas fa-chart-bar text-purple-600"></i>
            Reports
          </h1>
        </div>
        <div class="flex items-center gap-3">
          <select id="timeRange" class="px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-600 focus:border-blue-600">
            <option value="7d">Last 7 Days</option>
            <option value="30d" selected>Last 30 Days</option>
            <option value="90d">Last 3 Months</option>
            <option value="1y">Last Year</option>
          </select>
          <button class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-600">
            <i class="fas fa-sync-alt mr-2"></i>Refresh
          </button>
        </div>
      </div>
    </div>

    <!-- Key Metrics -->
    <section class="grid grid-cols-2 md:grid-cols-4 gap-6 mb-8">
      <div class="metric-card p-6 reveal">
        <div class="flex items-center justify-between mb-4">
          <div class="text-sm text-gray-500">Avg PR TAT</div>
          <i class="fas fa-clock text-blue-500 text-xl"></i>
        </div>
        <div class="text-2xl font-bold text-blue-700">4.2 days</div>
        <div class="text-xs text-green-600 mt-1">↓ 12% from last month</div>
      </div>
      <div class="metric-card p-6 reveal">
        <div class="flex items-center justify-between mb-4">
          <div class="text-sm text-gray-500">Total Savings</div>
          <i class="fas fa-rupee-sign text-green-500 text-xl"></i>
        </div>
        <div class="text-2xl font-bold text-green-700">₹2.4M</div>
        <div class="text-xs text-green-600 mt-1">↑ 8% from last month</div>
      </div>
      <div class="metric-card p-6 reveal">
        <div class="flex items-center justify-between mb-4">
          <div class="text-sm text-gray-500">Vendor Performance</div>
          <i class="fas fa-star text-yellow-500 text-xl"></i>
        </div>
        <div class="text-2xl font-bold text-yellow-700">4.6/5</div>
        <div class="text-xs text-green-600 mt-1">↑ 0.2 from last month</div>
      </div>
      <div class="metric-card p-6 reveal">
        <div class="flex items-center justify-between mb-4">
          <div class="text-sm text-gray-500">Budget Utilization</div>
          <i class="fas fa-chart-pie text-purple-500 text-xl"></i>
        </div>
        <div class="text-2xl font-bold text-purple-700">78%</div>
        <div class="text-xs text-orange-600 mt-1">+5% from last month</div>
      </div>
    </section>

    <!-- Report Categories -->
    <section class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
      <div class="report-card p-6 reveal" onclick="showReport('tat')">
        <div class="flex items-center gap-4 mb-4">
          <div class="w-12 h-12 rounded-lg bg-blue-100 flex items-center justify-center">
            <i class="fas fa-clock text-blue-600 text-xl"></i>
          </div>
          <div>
            <h3 class="text-lg font-semibold text-gray-800">TAT Reports</h3>
            <p class="text-sm text-gray-600">Turn Around Time Analysis</p>
          </div>
        </div>
        <div class="space-y-2">
          <div class="flex justify-between text-sm">
            <span>PR Processing</span>
            <span class="font-semibold">4.2 days</span>
          </div>
          <div class="flex justify-between text-sm">
            <span>PO Approval</span>
            <span class="font-semibold">2.8 days</span>
          </div>
          <div class="flex justify-between text-sm">
            <span>Invoice Processing</span>
            <span class="font-semibold">3.1 days</span>
          </div>
        </div>
      </div>

      <div class="report-card p-6 reveal" onclick="showReport('procurement')">
        <div class="flex items-center gap-4 mb-4">
          <div class="w-12 h-12 rounded-lg bg-green-100 flex items-center justify-center">
            <i class="fas fa-shopping-cart text-green-600 text-xl"></i>
          </div>
          <div>
            <h3 class="text-lg font-semibold text-gray-800">Procurement Performance</h3>
            <p class="text-sm text-gray-600">Efficiency & Cost Analysis</p>
          </div>
        </div>
        <div class="space-y-2">
          <div class="flex justify-between text-sm">
            <span>Total PRs</span>
            <span class="font-semibold">156</span>
          </div>
          <div class="flex justify-between text-sm">
            <span>Approved POs</span>
            <span class="font-semibold">142</span>
          </div>
          <div class="flex justify-between text-sm">
            <span>Success Rate</span>
            <span class="font-semibold text-green-600">91%</span>
          </div>
        </div>
      </div>

      <div class="report-card p-6 reveal" onclick="showReport('vendor')">
        <div class="flex items-center gap-4 mb-4">
          <div class="w-12 h-12 rounded-lg bg-purple-100 flex items-center justify-center">
            <i class="fas fa-truck text-purple-600 text-xl"></i>
          </div>
          <div>
            <h3 class="text-lg font-semibold text-gray-800">Vendor Performance</h3>
            <p class="text-sm text-gray-600">Supplier Analytics</p>
          </div>
        </div>
        <div class="space-y-2">
          <div class="flex justify-between text-sm">
            <span>Active Vendors</span>
            <span class="font-semibold">48</span>
          </div>
          <div class="flex justify-between text-sm">
            <span>On-Time Delivery</span>
            <span class="font-semibold text-green-600">94%</span>
          </div>
          <div class="flex justify-between text-sm">
            <span>Quality Score</span>
            <span class="font-semibold">4.6/5</span>
          </div>
        </div>
      </div>

      <div class="report-card p-6 reveal" onclick="showReport('budget')">
        <div class="flex items-center gap-4 mb-4">
          <div class="w-12 h-12 rounded-lg bg-orange-100 flex items-center justify-center">
            <i class="fas fa-wallet text-orange-600 text-xl"></i>
          </div>
          <div>
            <h3 class="text-lg font-semibold text-gray-800">Budget vs Actual</h3>
            <p class="text-sm text-gray-600">Spend Analysis</p>
          </div>
        </div>
        <div class="space-y-2">
          <div class="flex justify-between text-sm">
            <span>Budget Allocated</span>
            <span class="font-semibold">₹50M</span>
          </div>
          <div class="flex justify-between text-sm">
            <span>Actual Spend</span>
            <span class="font-semibold">₹39M</span>
          </div>
          <div class="flex justify-between text-sm">
            <span>Variance</span>
            <span class="font-semibold text-green-600">-22%</span>
          </div>
        </div>
      </div>

      <div class="report-card p-6 reveal" onclick="showReport('savings')">
        <div class="flex items-center gap-4 mb-4">
          <div class="w-12 h-12 rounded-lg bg-teal-100 flex items-center justify-center">
            <i class="fas fa-piggy-bank text-teal-600 text-xl"></i>
          </div>
          <div>
            <h3 class="text-lg font-semibold text-gray-800">Savings Analysis</h3>
            <p class="text-sm text-gray-600">Cost Reduction Insights</p>
          </div>
        </div>
        <div class="space-y-2">
          <div class="flex justify-between text-sm">
            <span>Total Savings</span>
            <span class="font-semibold">₹2.4M</span>
          </div>
          <div class="flex justify-between text-sm">
            <span>Through Negotiation</span>
            <span class="font-semibold">₹1.8M</span>
          </div>
          <div class="flex justify-between text-sm">
            <span>Through Auctions</span>
            <span class="font-semibold">₹0.6M</span>
          </div>
        </div>
      </div>

      <div class="report-card p-6 reveal" onclick="showReport('category')">
        <div class="flex items-center gap-4 mb-4">
          <div class="w-12 h-12 rounded-lg bg-indigo-100 flex items-center justify-center">
            <i class="fas fa-tags text-indigo-600 text-xl"></i>
          </div>
          <div>
            <h3 class="text-lg font-semibold text-gray-800">Category Analysis</h3>
            <p class="text-sm text-gray-600">Spend by Category</p>
          </div>
        </div>
        <div class="space-y-2">
          <div class="flex justify-between text-sm">
            <span>IT Hardware</span>
            <span class="font-semibold">₹12M</span>
          </div>
          <div class="flex justify-between text-sm">
            <span>Software</span>
            <span class="font-semibold">₹8M</span>
          </div>
          <div class="flex justify-between text-sm">
            <span>Services</span>
            <span class="font-semibold">₹6M</span>
          </div>
        </div>
      </div>

      <div class="report-card p-6 reveal" onclick="showReport('risk')">
        <div class="flex items-center gap-4 mb-4">
          <div class="w-12 h-12 rounded-lg bg-red-100 flex items-center justify-center">
            <i class="fas fa-exclamation-triangle text-red-600 text-xl"></i>
          </div>
          <div>
            <h3 class="text-lg font-semibold text-gray-800">Risk Analysis</h3>
            <p class="text-sm text-gray-600">Procurement Risk Assessment</p>
          </div>
        </div>
        <div class="space-y-2">
          <div class="flex justify-between text-sm">
            <span>High Risk Vendors</span>
            <span class="font-semibold text-red-600">3</span>
          </div>
          <div class="flex justify-between text-sm">
            <span>Delayed Deliveries</span>
            <span class="font-semibold">8</span>
          </div>
          <div class="flex justify-between text-sm">
            <span>Compliance Issues</span>
            <span class="font-semibold text-orange-600">2</span>
          </div>
        </div>
      </div>

      <div class="report-card p-6 reveal" onclick="showReport('compliance')">
        <div class="flex items-center gap-4 mb-4">
          <div class="w-12 h-12 rounded-lg bg-cyan-100 flex items-center justify-center">
            <i class="fas fa-shield-alt text-cyan-600 text-xl"></i>
          </div>
          <div>
            <h3 class="text-lg font-semibold text-gray-800">Compliance Reports</h3>
            <p class="text-sm text-gray-600">Regulatory Compliance</p>
          </div>
        </div>
        <div class="space-y-2">
          <div class="flex justify-between text-sm">
            <span>GST Compliance</span>
            <span class="font-semibold text-green-600">98%</span>
          </div>
          <div class="flex justify-between text-sm">
            <span>Contract Compliance</span>
            <span class="font-semibold text-green-600">95%</span>
          </div>
          <div class="flex justify-between text-sm">
            <span>Policy Adherence</span>
            <span class="font-semibold text-yellow-600">87%</span>
          </div>
        </div>
      </div>

      <div class="report-card p-6 reveal" onclick="showReport('payment')">
        <div class="flex items-center gap-4 mb-4">
          <div class="w-12 h-12 rounded-lg bg-emerald-100 flex items-center justify-center">
            <i class="fas fa-credit-card text-emerald-600 text-xl"></i>
          </div>
          <div>
            <h3 class="text-lg font-semibold text-gray-800">Payment Terms</h3>
            <p class="text-sm text-gray-600">Payment Analysis</p>
          </div>
        </div>
        <div class="space-y-2">
          <div class="flex justify-between text-sm">
            <span>Avg Payment Terms</span>
            <span class="font-semibold">45 days</span>
          </div>
          <div class="flex justify-between text-sm">
            <span>Early Payments</span>
            <span class="font-semibold text-green-600">23</span>
          </div>
          <div class="flex justify-between text-sm">
            <span>Discounts Availed</span>
            <span class="font-semibold">₹180K</span>
          </div>
        </div>
      </div>

      <div class="report-card p-6 reveal" onclick="showReport('diversity')">
        <div class="flex items-center gap-4 mb-4">
          <div class="w-12 h-12 rounded-lg bg-pink-100 flex items-center justify-center">
            <i class="fas fa-users text-pink-600 text-xl"></i>
          </div>
          <div>
            <h3 class="text-lg font-semibold text-gray-800">Supplier Diversity</h3>
            <p class="text-sm text-gray-600">Diversity & Inclusion</p>
          </div>
        </div>
        <div class="space-y-2">
          <div class="flex justify-between text-sm">
            <span>MSMEs</span>
            <span class="font-semibold">35%</span>
          </div>
          <div class="flex justify-between text-sm">
            <span>Women-owned</span>
            <span class="font-semibold">18%</span>
          </div>
          <div class="flex justify-between text-sm">
            <span>Minority-owned</span>
            <span class="font-semibold">12%</span>
          </div>
        </div>
      </div>

      <div class="report-card p-6 reveal" onclick="showReport('costcenter')">
        <div class="flex items-center gap-4 mb-4">
          <div class="w-12 h-12 rounded-lg bg-amber-100 flex items-center justify-center">
            <i class="fas fa-building text-amber-600 text-xl"></i>
          </div>
          <div>
            <h3 class="text-lg font-semibold text-gray-800">Cost Center Analysis</h3>
            <p class="text-sm text-gray-600">Department-wise Spend</p>
          </div>
        </div>
        <div class="space-y-2">
          <div class="flex justify-between text-sm">
            <span>IT Department</span>
            <span class="font-semibold">₹15M</span>
          </div>
          <div class="flex justify-between text-sm">
            <span>Marketing</span>
            <span class="font-semibold">₹8M</span>
          </div>
          <div class="flex justify-between text-sm">
            <span>Operations</span>
            <span class="font-semibold">₹12M</span>
          </div>
        </div>
      </div>

      <div class="report-card p-6 reveal" onclick="showReport('approval')">
        <div class="flex items-center gap-4 mb-4">
          <div class="w-12 h-12 rounded-lg bg-violet-100 flex items-center justify-center">
            <i class="fas fa-check-circle text-violet-600 text-xl"></i>
          </div>
          <div>
            <h3 class="text-lg font-semibold text-gray-800">Approval Workflow</h3>
            <p class="text-sm text-gray-600">Approval Process Analysis</p>
          </div>
        </div>
        <div class="space-y-2">
          <div class="flex justify-between text-sm">
            <span>Avg Approval Time</span>
            <span class="font-semibold">2.3 days</span>
          </div>
          <div class="flex justify-between text-sm">
            <span>Auto-approved</span>
            <span class="font-semibold text-green-600">68%</span>
          </div>
          <div class="flex justify-between text-sm">
            <span>Escalations</span>
            <span class="font-semibold text-orange-600">5</span>
          </div>
        </div>
      </div>

      <div class="report-card p-6 reveal" onclick="showReport('contract')">
        <div class="flex items-center gap-4 mb-4">
          <div class="w-12 h-12 rounded-lg bg-slate-100 flex items-center justify-center">
            <i class="fas fa-file-contract text-slate-600 text-xl"></i>
          </div>
          <div>
            <h3 class="text-lg font-semibold text-gray-800">Contract Management</h3>
            <p class="text-sm text-gray-600">Contract Analytics</p>
          </div>
        </div>
        <div class="space-y-2">
          <div class="flex justify-between text-sm">
            <span>Active Contracts</span>
            <span class="font-semibold">89</span>
          </div>
          <div class="flex justify-between text-sm">
            <span>Expiring Soon</span>
            <span class="font-semibold text-orange-600">12</span>
          </div>
          <div class="flex justify-between text-sm">
            <span>Renewal Rate</span>
            <span class="font-semibold text-green-600">82%</span>
          </div>
        </div>
      </div>

      <div class="report-card p-6 reveal" onclick="showReport('inventory')">
        <div class="flex items-center gap-4 mb-4">
          <div class="w-12 h-12 rounded-lg bg-lime-100 flex items-center justify-center">
            <i class="fas fa-boxes text-lime-600 text-xl"></i>
          </div>
          <div>
            <h3 class="text-lg font-semibold text-gray-800">Inventory Analysis</h3>
            <p class="text-sm text-gray-600">Stock & Inventory Metrics</p>
          </div>
        </div>
        <div class="space-y-2">
          <div class="flex justify-between text-sm">
            <span>Stock Turnover</span>
            <span class="font-semibold">4.2x</span>
          </div>
          <div class="flex justify-between text-sm">
            <span>Out of Stock</span>
            <span class="font-semibold text-red-600">3 items</span>
          </div>
          <div class="flex justify-between text-sm">
            <span>Overstock Value</span>
            <span class="font-semibold">₹450K</span>
          </div>
        </div>
      </div>

      <div class="report-card p-6 reveal" onclick="showReport('forecast')">
        <div class="flex items-center gap-4 mb-4">
          <div class="w-12 h-12 rounded-lg bg-rose-100 flex items-center justify-center">
            <i class="fas fa-chart-line text-rose-600 text-xl"></i>
          </div>
          <div>
            <h3 class="text-lg font-semibold text-gray-800">Spend Forecasting</h3>
            <p class="text-sm text-gray-600">Future Spend Prediction</p>
          </div>
        </div>
        <div class="space-y-2">
          <div class="flex justify-between text-sm">
            <span>Next Quarter</span>
            <span class="font-semibold">₹18M</span>
          </div>
          <div class="flex justify-between text-sm">
            <span>Annual Projection</span>
            <span class="font-semibold">₹72M</span>
          </div>
          <div class="flex justify-between text-sm">
            <span>Growth Rate</span>
            <span class="font-semibold text-green-600">+15%</span>
          </div>
        </div>
      </div>

      <div class="report-card p-6 reveal" onclick="showReport('audit')">
        <div class="flex items-center gap-4 mb-4">
          <div class="w-12 h-12 rounded-lg bg-stone-100 flex items-center justify-center">
            <i class="fas fa-search text-stone-600 text-xl"></i>
          </div>
          <div>
            <h3 class="text-lg font-semibold text-gray-800">Audit Trail</h3>
            <p class="text-sm text-gray-600">Transaction History</p>
          </div>
        </div>
        <div class="space-y-2">
          <div class="flex justify-between text-sm">
            <span>Total Transactions</span>
            <span class="font-semibold">1,247</span>
          </div>
          <div class="flex justify-between text-sm">
            <span>Flagged Items</span>
            <span class="font-semibold text-orange-600">7</span>
          </div>
          <div class="flex justify-between text-sm">
            <span>Audit Compliance</span>
            <span class="font-semibold text-green-600">99.2%</span>
          </div>
        </div>
      </div>
    </section>

    <!-- Detailed Report View -->
    <div id="reportDetail" class="hidden box-white ring-gradient p-6 reveal">
      <!-- Report Header -->
      <div class="flex items-center justify-between mb-6">
        <div>
          <h2 id="reportTitle" class="text-2xl font-bold text-blue-700">TAT Reports</h2>
          <p id="reportDescription" class="text-gray-600">Detailed analysis of processing times</p>
        </div>
        <div class="flex items-center gap-3">
          <button onclick="exportReport()" class="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-600">
            <i class="fas fa-download mr-2"></i>Export
          </button>
          <button onclick="closeReport()" class="px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-600">
            <i class="fas fa-times mr-2"></i>Close
          </button>
        </div>
      </div>

      <!-- Report Tabs -->
      <div class="flex space-x-1 mb-6 bg-gray-100 p-1 rounded-lg">
        <button id="tab-pr" class="tab-active px-4 py-2 rounded-md text-sm font-medium transition-all">PR TAT</button>
        <button id="tab-po" class="tab-inactive px-4 py-2 rounded-md text-sm font-medium transition-all">PO TAT</button>
        <button id="tab-invoice" class="tab-inactive px-4 py-2 rounded-md text-sm font-medium transition-all">Invoice TAT</button>
        <button id="tab-overall" class="tab-inactive px-4 py-2 rounded-md text-sm font-medium transition-all">Overall</button>
      </div>

      <!-- Charts Container -->
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
        <div class="box-white p-4">
          <h3 class="text-lg font-semibold text-gray-800 mb-4">TAT Trends</h3>
          <canvas id="tatChart" width="400" height="200"></canvas>
        </div>
        <div class="box-white p-4">
          <h3 class="text-lg font-semibold text-gray-800 mb-4">TAT Distribution</h3>
          <canvas id="tatDistributionChart" width="400" height="200"></canvas>
        </div>
      </div>

      <!-- Data Table -->
      <div class="box-white p-4">
        <h3 class="text-lg font-semibold text-gray-800 mb-4">Detailed Data</h3>
        <div class="overflow-x-auto">
          <table class="w-full text-sm">
            <thead class="bg-gray-50" id="tableHeader">
              <tr>
                <th class="px-4 py-3 text-left font-semibold text-gray-800">Process</th>
                <th class="px-4 py-3 text-left font-semibold text-gray-800">Average TAT</th>
                <th class="px-4 py-3 text-left font-semibold text-gray-800">Min TAT</th>
                <th class="px-4 py-3 text-left font-semibold text-gray-800">Max TAT</th>
                <th class="px-4 py-3 text-left font-semibold text-gray-800">Target</th>
                <th class="px-4 py-3 text-left font-semibold text-gray-800">Status</th>
              </tr>
            </thead>
            <tbody class="divide-y divide-gray-200">
              <tr>
                <td class="px-4 py-3">PR Creation to Approval</td>
                <td class="px-4 py-3">4.2 days</td>
                <td class="px-4 py-3">1 day</td>
                <td class="px-4 py-3">12 days</td>
                <td class="px-4 py-3">5 days</td>
                <td class="px-4 py-3"><span class="badge bg-green-100 text-green-800">On Target</span></td>
              </tr>
              <tr>
                <td class="px-4 py-3">PO Creation to Approval</td>
                <td class="px-4 py-3">2.8 days</td>
                <td class="px-4 py-3">0.5 days</td>
                <td class="px-4 py-3">8 days</td>
                <td class="px-4 py-3">3 days</td>
                <td class="px-4 py-3"><span class="badge bg-green-100 text-green-800">On Target</span></td>
              </tr>
              <tr>
                <td class="px-4 py-3">Invoice Submission to Payment</td>
                <td class="px-4 py-3">3.1 days</td>
                <td class="px-4 py-3">1 day</td>
                <td class="px-4 py-3">10 days</td>
                <td class="px-4 py-3">7 days</td>
                <td class="px-4 py-3"><span class="badge bg-green-100 text-green-800">Excellent</span></td>
              </tr>
              <tr>
                <td class="px-4 py-3">Vendor Onboarding</td>
                <td class="px-4 py-3">5.7 days</td>
                <td class="px-4 py-3">2 days</td>
                <td class="px-4 py-3">15 days</td>
                <td class="px-4 py-3">7 days</td>
                <td class="px-4 py-3"><span class="badge bg-yellow-100 text-yellow-800">Slight Delay</span></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </main>

  <script>
    // Header blur on scroll
    const header = document.getElementById('app-header');
    window.addEventListener('scroll', () => {
      if (window.scrollY > 6) header.classList.add('header-blur');
      else header.classList.remove('header-blur');
    });

    // Reveal on view
    const io = new IntersectionObserver((entries) => {
      entries.forEach(e => { if (e.isIntersecting) e.target.classList.add('show'); });
    }, { threshold: 0.08 });
    document.querySelectorAll('.reveal').forEach(el => io.observe(el));

    // Report functions
    function showReport(type) {
      const reportDetail = document.getElementById('reportDetail');
      const reportTitle = document.getElementById('reportTitle');
      const reportDescription = document.getElementById('reportDescription');

      reportDetail.classList.remove('hidden');
      reportDetail.scrollIntoView({ behavior: 'smooth' });

      switch(type) {
        case 'tat':
          reportTitle.textContent = 'TAT Reports';
          reportDescription.textContent = 'Detailed analysis of processing times and efficiency metrics';
          break;
        case 'procurement':
          reportTitle.textContent = 'Procurement Performance';
          reportDescription.textContent = 'Comprehensive analysis of procurement operations and KPIs';
          break;
        case 'vendor':
          reportTitle.textContent = 'Vendor Performance';
          reportDescription.textContent = 'Supplier performance metrics and analytics';
          break;
        case 'budget':
          reportTitle.textContent = 'Budget vs Actual';
          reportDescription.textContent = 'Budget utilization and variance analysis';
          break;
        case 'savings':
          reportTitle.textContent = 'Savings Analysis';
          reportDescription.textContent = 'Cost reduction and savings optimization insights';
          break;
        case 'category':
          reportTitle.textContent = 'Category Analysis';
          reportDescription.textContent = 'Spend analysis by procurement categories';
          break;
        case 'risk':
          reportTitle.textContent = 'Risk Analysis';
          reportDescription.textContent = 'Procurement risk assessment and mitigation strategies';
          break;
        case 'compliance':
          reportTitle.textContent = 'Compliance Reports';
          reportDescription.textContent = 'Regulatory compliance and policy adherence analysis';
          break;
        case 'payment':
          reportTitle.textContent = 'Payment Terms Analysis';
          reportDescription.textContent = 'Payment terms, discounts, and cash flow optimization';
          break;
        case 'diversity':
          reportTitle.textContent = 'Supplier Diversity';
          reportDescription.textContent = 'Supplier diversity and inclusion metrics';
          break;
        case 'costcenter':
          reportTitle.textContent = 'Cost Center Analysis';
          reportDescription.textContent = 'Department-wise spend analysis and budget tracking';
          break;
        case 'approval':
          reportTitle.textContent = 'Approval Workflow';
          reportDescription.textContent = 'Approval process efficiency and bottleneck analysis';
          break;
        case 'contract':
          reportTitle.textContent = 'Contract Management';
          reportDescription.textContent = 'Contract lifecycle management and renewal analytics';
          break;
        case 'inventory':
          reportTitle.textContent = 'Inventory Analysis';
          reportDescription.textContent = 'Stock levels, turnover rates, and inventory optimization';
          break;
        case 'forecast':
          reportTitle.textContent = 'Spend Forecasting';
          reportDescription.textContent = 'Predictive analytics for future procurement spend';
          break;
        case 'audit':
          reportTitle.textContent = 'Audit Trail';
          reportDescription.textContent = 'Transaction history and audit compliance tracking';
          break;
      }

      // Initialize charts
      initializeCharts(type);
    }

    function closeReport() {
      document.getElementById('reportDetail').classList.add('hidden');
    }

    function exportReport() {
      alert('Export functionality would be implemented here');
    }

    // Chart initialization
    function initializeCharts(type) {
      // Clear existing charts
      const tatChartCanvas = document.getElementById('tatChart');
      const distributionChartCanvas = document.getElementById('tatDistributionChart');

      // Destroy existing charts if they exist
      if (window.tatChart) window.tatChart.destroy();
      if (window.distributionChart) window.distributionChart.destroy();

      // Update data table based on report type
      updateDataTable(type);

      // TAT Trends Chart
      const tatCtx = tatChartCanvas.getContext('2d');
      let chartData = getChartData(type);

      window.tatChart = new Chart(tatCtx, {
        type: 'line',
        data: chartData.trends,
        options: {
          responsive: true,
          plugins: {
            legend: {
              position: 'top',
            }
          }
        }
      });

      // Distribution Chart
      const distributionCtx = distributionChartCanvas.getContext('2d');
      window.distributionChart = new Chart(distributionCtx, {
        type: chartData.distribution.type,
        data: chartData.distribution.data,
        options: {
          responsive: true,
          plugins: {
            legend: {
              position: 'bottom',
            }
          }
        }
      });
    }

    function getChartData(type) {
      const chartConfigs = {
        tat: {
          trends: {
            labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
            datasets: [{
              label: 'PR TAT (days)',
              data: [4.8, 4.5, 4.2, 4.1, 4.3, 4.2],
              borderColor: '#3b82f6',
              backgroundColor: '#3b82f640',
              tension: 0.4
            }, {
              label: 'PO TAT (days)',
              data: [3.2, 2.9, 2.8, 2.7, 2.9, 2.8],
              borderColor: '#10b981',
              backgroundColor: '#10b98140',
              tension: 0.4
            }]
          },
          distribution: {
            type: 'doughnut',
            data: {
              labels: ['0-2 days', '3-5 days', '6-10 days', '10+ days'],
              datasets: [{
                data: [35, 45, 15, 5],
                backgroundColor: ['#10b981', '#3b82f6', '#f59e0b', '#ef4444']
              }]
            }
          }
        },
        procurement: {
          trends: {
            labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
            datasets: [{
              label: 'Total PRs',
              data: [120, 135, 142, 138, 156, 148],
              borderColor: '#3b82f6',
              backgroundColor: '#3b82f640',
              tension: 0.4
            }, {
              label: 'Approved POs',
              data: [110, 128, 135, 132, 142, 138],
              borderColor: '#10b981',
              backgroundColor: '#10b98140',
              tension: 0.4
            }]
          },
          distribution: {
            type: 'bar',
            data: {
              labels: ['Approved', 'Pending', 'Rejected', 'Draft'],
              datasets: [{
                label: 'PR Status',
                data: [142, 8, 4, 2],
                backgroundColor: ['#10b981', '#f59e0b', '#ef4444', '#6b7280']
              }]
            }
          }
        },
        vendor: {
          trends: {
            labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
            datasets: [{
              label: 'On-Time Delivery %',
              data: [88, 92, 94, 91, 94, 93],
              borderColor: '#10b981',
              backgroundColor: '#10b98140',
              tension: 0.4
            }, {
              label: 'Quality Score',
              data: [4.2, 4.4, 4.6, 4.5, 4.6, 4.5],
              borderColor: '#f59e0b',
              backgroundColor: '#f59e0b40',
              tension: 0.4
            }]
          },
          distribution: {
            type: 'doughnut',
            data: {
              labels: ['Excellent (4.5-5)', 'Good (3.5-4.4)', 'Average (2.5-3.4)', 'Poor (<2.5)'],
              datasets: [{
                data: [48, 32, 15, 5],
                backgroundColor: ['#10b981', '#3b82f6', '#f59e0b', '#ef4444']
              }]
            }
          }
        },
        budget: {
          trends: {
            labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
            datasets: [{
              label: 'Budget (₹M)',
              data: [50, 50, 50, 50, 50, 50],
              borderColor: '#ef4444',
              backgroundColor: '#ef444440',
              tension: 0.4
            }, {
              label: 'Actual Spend (₹M)',
              data: [38, 41, 39, 42, 39, 39],
              borderColor: '#10b981',
              backgroundColor: '#10b98140',
              tension: 0.4
            }]
          },
          distribution: {
            type: 'bar',
            data: {
              labels: ['IT Hardware', 'Software', 'Services', 'Marketing', 'Operations'],
              datasets: [{
                label: 'Budget vs Actual (₹M)',
                data: [12, 8, 6, 8, 5],
                backgroundColor: '#3b82f6'
              }, {
                label: 'Actual Spend (₹M)',
                data: [15, 8, 6, 6, 4],
                backgroundColor: '#10b981'
              }]
            }
          }
        },
        savings: {
          trends: {
            labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
            datasets: [{
              label: 'Monthly Savings (₹M)',
              data: [0.18, 0.22, 0.19, 0.24, 0.21, 0.20],
              borderColor: '#10b981',
              backgroundColor: '#10b98140',
              tension: 0.4
            }]
          },
          distribution: {
            type: 'pie',
            data: {
              labels: ['Through Negotiation', 'Through Auctions', 'Bulk Purchase', 'Long-term Contracts'],
              datasets: [{
                data: [1.8, 0.6, 0.4, 0.2],
                backgroundColor: ['#10b981', '#3b82f6', '#f59e0b', '#8b5cf6']
              }]
            }
          }
        }
      };

      return chartConfigs[type] || chartConfigs.tat;
    }

    function updateDataTable(type) {
      const tableBody = document.querySelector('#reportDetail table tbody');
      const tableHeader = document.getElementById('tableHeader');
      let tableContent = '';
      let headerContent = '';

      switch(type) {
        case 'tat':
          headerContent = `
            <tr>
              <th class="px-4 py-3 text-left font-semibold text-gray-800">Process</th>
              <th class="px-4 py-3 text-left font-semibold text-gray-800">Average TAT</th>
              <th class="px-4 py-3 text-left font-semibold text-gray-800">Min TAT</th>
              <th class="px-4 py-3 text-left font-semibold text-gray-800">Max TAT</th>
              <th class="px-4 py-3 text-left font-semibold text-gray-800">Target</th>
              <th class="px-4 py-3 text-left font-semibold text-gray-800">Status</th>
            </tr>
          `;
          tableContent = `
            <tr>
              <td class="px-4 py-3">PR Creation to Approval</td>
              <td class="px-4 py-3">4.2 days</td>
              <td class="px-4 py-3">1 day</td>
              <td class="px-4 py-3">12 days</td>
              <td class="px-4 py-3">5 days</td>
              <td class="px-4 py-3"><span class="badge bg-green-100 text-green-800">On Target</span></td>
            </tr>
            <tr>
              <td class="px-4 py-3">PO Creation to Approval</td>
              <td class="px-4 py-3">2.8 days</td>
              <td class="px-4 py-3">0.5 days</td>
              <td class="px-4 py-3">8 days</td>
              <td class="px-4 py-3">3 days</td>
              <td class="px-4 py-3"><span class="badge bg-green-100 text-green-800">On Target</span></td>
            </tr>
            <tr>
              <td class="px-4 py-3">Invoice Submission to Payment</td>
              <td class="px-4 py-3">3.1 days</td>
              <td class="px-4 py-3">1 day</td>
              <td class="px-4 py-3">10 days</td>
              <td class="px-4 py-3">7 days</td>
              <td class="px-4 py-3"><span class="badge bg-green-100 text-green-800">Excellent</span></td>
            </tr>
            <tr>
              <td class="px-4 py-3">Vendor Onboarding</td>
              <td class="px-4 py-3">5.7 days</td>
              <td class="px-4 py-3">2 days</td>
              <td class="px-4 py-3">15 days</td>
              <td class="px-4 py-3">7 days</td>
              <td class="px-4 py-3"><span class="badge bg-yellow-100 text-yellow-800">Slight Delay</span></td>
            </tr>
          `;
          break;
        case 'procurement':
          headerContent = `
            <tr>
              <th class="px-4 py-3 text-left font-semibold text-gray-800">Process</th>
              <th class="px-4 py-3 text-left font-semibold text-gray-800">Total</th>
              <th class="px-4 py-3 text-left font-semibold text-gray-800">Completed</th>
              <th class="px-4 py-3 text-left font-semibold text-gray-800">Success Rate</th>
              <th class="px-4 py-3 text-left font-semibold text-gray-800">Target</th>
              <th class="px-4 py-3 text-left font-semibold text-gray-800">Status</th>
            </tr>
          `;
          tableContent = `
            <tr>
              <td class="px-4 py-3">Total PRs Created</td>
              <td class="px-4 py-3">156</td>
              <td class="px-4 py-3">142</td>
              <td class="px-4 py-3">91%</td>
              <td class="px-4 py-3">Target: 90%</td>
              <td class="px-4 py-3"><span class="badge bg-green-100 text-green-800">Excellent</span></td>
            </tr>
            <tr>
              <td class="px-4 py-3">POs Processed</td>
              <td class="px-4 py-3">142</td>
              <td class="px-4 py-3">138</td>
              <td class="px-4 py-3">97%</td>
              <td class="px-4 py-3">Target: 95%</td>
              <td class="px-4 py-3"><span class="badge bg-green-100 text-green-800">On Target</span></td>
            </tr>
            <tr>
              <td class="px-4 py-3">Invoice Processing</td>
              <td class="px-4 py-3">138</td>
              <td class="px-4 py-3">134</td>
              <td class="px-4 py-3">97%</td>
              <td class="px-4 py-3">Target: 95%</td>
              <td class="px-4 py-3"><span class="badge bg-green-100 text-green-800">On Target</span></td>
            </tr>
            <tr>
              <td class="px-4 py-3">Payment Processing</td>
              <td class="px-4 py-3">134</td>
              <td class="px-4 py-3">132</td>
              <td class="px-4 py-3">99%</td>
              <td class="px-4 py-3">Target: 98%</td>
              <td class="px-4 py-3"><span class="badge bg-green-100 text-green-800">Excellent</span></td>
            </tr>
          `;
          break;
        case 'vendor':
          headerContent = `
            <tr>
              <th class="px-4 py-3 text-left font-semibold text-gray-800">Vendor Name</th>
              <th class="px-4 py-3 text-left font-semibold text-gray-800">Quality Score</th>
              <th class="px-4 py-3 text-left font-semibold text-gray-800">On-Time %</th>
              <th class="px-4 py-3 text-left font-semibold text-gray-800">Total Value</th>
              <th class="px-4 py-3 text-left font-semibold text-gray-800">Payment Terms</th>
              <th class="px-4 py-3 text-left font-semibold text-gray-800">Status</th>
            </tr>
          `;
          tableContent = `
            <tr>
              <td class="px-4 py-3">ABC Suppliers Ltd</td>
              <td class="px-4 py-3">4.8/5</td>
              <td class="px-4 py-3">96%</td>
              <td class="px-4 py-3">₹2.4M</td>
              <td class="px-4 py-3">45 days</td>
              <td class="px-4 py-3"><span class="badge bg-green-100 text-green-800">Excellent</span></td>
            </tr>
            <tr>
              <td class="px-4 py-3">XYZ Technologies</td>
              <td class="px-4 py-3">4.6/5</td>
              <td class="px-4 py-3">92%</td>
              <td class="px-4 py-3">₹1.8M</td>
              <td class="px-4 py-3">30 days</td>
              <td class="px-4 py-3"><span class="badge bg-green-100 text-green-800">Good</span></td>
            </tr>
            <tr>
              <td class="px-4 py-3">Global Solutions Inc</td>
              <td class="px-4 py-3">4.2/5</td>
              <td class="px-4 py-3">88%</td>
              <td class="px-4 py-3">₹950K</td>
              <td class="px-4 py-3">60 days</td>
              <td class="px-4 py-3"><span class="badge bg-yellow-100 text-yellow-800">Average</span></td>
            </tr>
            <tr>
              <td class="px-4 py-3">TechCorp Ltd</td>
              <td class="px-4 py-3">3.8/5</td>
              <td class="px-4 py-3">85%</td>
              <td class="px-4 py-3">₹720K</td>
              <td class="px-4 py-3">75 days</td>
              <td class="px-4 py-3"><span class="badge bg-orange-100 text-orange-800">Needs Attention</span></td>
            </tr>
          `;
          break;
        case 'budget':
          headerContent = `
            <tr>
              <th class="px-4 py-3 text-left font-semibold text-gray-800">Category</th>
              <th class="px-4 py-3 text-left font-semibold text-gray-800">Budget</th>
              <th class="px-4 py-3 text-left font-semibold text-gray-800">Actual</th>
              <th class="px-4 py-3 text-left font-semibold text-gray-800">Variance</th>
              <th class="px-4 py-3 text-left font-semibold text-gray-800">Utilization %</th>
              <th class="px-4 py-3 text-left font-semibold text-gray-800">Status</th>
            </tr>
          `;
          tableContent = `
            <tr>
              <td class="px-4 py-3">IT Hardware</td>
              <td class="px-4 py-3">₹12M</td>
              <td class="px-4 py-3">₹15M</td>
              <td class="px-4 py-3">₹3M</td>
              <td class="px-4 py-3">125%</td>
              <td class="px-4 py-3"><span class="badge bg-red-100 text-red-800">Over Budget</span></td>
            </tr>
            <tr>
              <td class="px-4 py-3">Software</td>
              <td class="px-4 py-3">₹8M</td>
              <td class="px-4 py-3">₹8M</td>
              <td class="px-4 py-3">₹0M</td>
              <td class="px-4 py-3">100%</td>
              <td class="px-4 py-3"><span class="badge bg-green-100 text-green-800">On Budget</span></td>
            </tr>
            <tr>
              <td class="px-4 py-3">Services</td>
              <td class="px-4 py-3">₹6M</td>
              <td class="px-4 py-3">₹6M</td>
              <td class="px-4 py-3">₹0M</td>
              <td class="px-4 py-3">100%</td>
              <td class="px-4 py-3"><span class="badge bg-green-100 text-green-800">On Budget</span></td>
            </tr>
            <tr>
              <td class="px-4 py-3">Marketing</td>
              <td class="px-4 py-3">₹8M</td>
              <td class="px-4 py-3">₹6M</td>
              <td class="px-4 py-3">-₹2M</td>
              <td class="px-4 py-3">75%</td>
              <td class="px-4 py-3"><span class="badge bg-green-100 text-green-800">Under Budget</span></td>
            </tr>
          `;
          break;
        case 'savings':
          headerContent = `
            <tr>
              <th class="px-4 py-3 text-left font-semibold text-gray-800">Savings Method</th>
              <th class="px-4 py-3 text-left font-semibold text-gray-800">Amount Saved</th>
              <th class="px-4 py-3 text-left font-semibold text-gray-800">Total Spend</th>
              <th class="px-4 py-3 text-left font-semibold text-gray-800">Savings %</th>
              <th class="px-4 py-3 text-left font-semibold text-gray-800">Target</th>
              <th class="px-4 py-3 text-left font-semibold text-gray-800">Status</th>
            </tr>
          `;
          tableContent = `
            <tr>
              <td class="px-4 py-3">Through Negotiation</td>
              <td class="px-4 py-3">₹1.8M</td>
              <td class="px-4 py-3">₹15M</td>
              <td class="px-4 py-3">12%</td>
              <td class="px-4 py-3">Target: 10%</td>
              <td class="px-4 py-3"><span class="badge bg-green-100 text-green-800">Exceeded</span></td>
            </tr>
            <tr>
              <td class="px-4 py-3">Through Auctions</td>
              <td class="px-4 py-3">₹0.6M</td>
              <td class="px-4 py-3">₹8M</td>
              <td class="px-4 py-3">7.5%</td>
              <td class="px-4 py-3">Target: 5%</td>
              <td class="px-4 py-3"><span class="badge bg-green-100 text-green-800">Good</span></td>
            </tr>
            <tr>
              <td class="px-4 py-3">Bulk Purchase Discount</td>
              <td class="px-4 py-3">₹0.4M</td>
              <td class="px-4 py-3">₹12M</td>
              <td class="px-4 py-3">3.3%</td>
              <td class="px-4 py-3">Target: 3%</td>
              <td class="px-4 py-3"><span class="badge bg-green-100 text-green-800">On Target</span></td>
            </tr>
            <tr>
              <td class="px-4 py-3">Long-term Contracts</td>
              <td class="px-4 py-3">₹0.2M</td>
              <td class="px-4 py-3">₹6M</td>
              <td class="px-4 py-3">3.3%</td>
              <td class="px-4 py-3">Target: 2%</td>
              <td class="px-4 py-3"><span class="badge bg-green-100 text-green-800">Good</span></td>
            </tr>
          `;
          break;
        default:
          headerContent = `
            <tr>
              <th class="px-4 py-3 text-left font-semibold text-gray-800">Item</th>
              <th class="px-4 py-3 text-left font-semibold text-gray-800">Value 1</th>
              <th class="px-4 py-3 text-left font-semibold text-gray-800">Value 2</th>
              <th class="px-4 py-3 text-left font-semibold text-gray-800">Value 3</th>
              <th class="px-4 py-3 text-left font-semibold text-gray-800">Value 4</th>
              <th class="px-4 py-3 text-left font-semibold text-gray-800">Status</th>
            </tr>
          `;
          tableContent = `
            <tr>
              <td class="px-4 py-3">No data available</td>
              <td class="px-4 py-3">-</td>
              <td class="px-4 py-3">-</td>
              <td class="px-4 py-3">-</td>
              <td class="px-4 py-3">-</td>
              <td class="px-4 py-3"><span class="badge bg-gray-100 text-gray-800">N/A</span></td>
            </tr>
          `;
      }

      tableHeader.innerHTML = headerContent;
      tableBody.innerHTML = tableContent;
    }

    // Tab switching
    document.querySelectorAll('[id^="tab-"]').forEach(tab => {
      tab.addEventListener('click', function() {
        // Remove active class from all tabs
        document.querySelectorAll('[id^="tab-"]').forEach(t => {
          t.classList.remove('tab-active');
          t.classList.add('tab-inactive');
        });

        // Add active class to clicked tab
        this.classList.remove('tab-inactive');
        this.classList.add('tab-active');
      });
    });

    // Export button functionality
    document.getElementById('exportButton').addEventListener('click', () => {
      alert('Export functionality would generate PDF/Excel reports');
    });
  </script>
</body>
</html>
